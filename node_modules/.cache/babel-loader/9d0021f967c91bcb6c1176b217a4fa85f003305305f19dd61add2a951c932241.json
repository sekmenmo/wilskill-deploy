{"ast":null,"code":"var _jsxFileName = \"/Users/mertsekmen/Desktop/wilskills-event-webapp/wilskill-app/src/Pages/SignIn.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { GoogleButton } from \"react-google-button\";\nimport { UserAuth } from \"../context/AuthContext\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { stringWrapper } from \"./stringWrapper\";\nimport { useFetch } from \"../Pages/useFetch\";\nimport { useNavigate, Navigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  let {\n    googleSignIn,\n    user\n  } = UserAuth();\n  const navigate = useNavigate();\n  // let { data: sqlUserData } = useFetch(\n  //   `https://wilskill-app.herokuapp.com/users/get/`\n  // )\n  const handleGoogleSignIn = async () => {\n    try {\n      await googleSignIn();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    // console.log(sqlUserData);\n    const auth = getAuth();\n    onAuthStateChanged(auth, user => {\n      //FIXME: In the use effect, SQL user data clears, why?\n      //FIXME: Don't do post call when user is already in table\n      if (user) {\n        //const curUser = sqlUserData.filter((u) => u.firebase_ID == user.uid);\n        // if (curUser.length === 0) {\n        //   console.log(curUser);\n        //   axios\n        //     .post(\"https://wilskill-app.herokuapp.com/users/adduser\", {\n        //       namePronouns: stringWrapper(user.displayName),\n        //       email: stringWrapper(user.email),\n        //       firebaseID: stringWrapper(user.uid),\n        //     })\n        //     .then(async (res) => {\n        //       if (res) {\n        //         console.log(res);\n        //       }\n        //     })\n        //     .catch((error) => {\n        //       console.log(error);\n        //     });\n        // }\n        navigate(\"/account\");\n      }\n    });\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center text-2xl font-bold py-4\",\n      children: \"Sign-in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-[240px] m-auto py-4\",\n      children: /*#__PURE__*/_jsxDEV(GoogleButton, {\n        onClick: handleGoogleSignIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Signin, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","GoogleButton","UserAuth","getAuth","onAuthStateChanged","stringWrapper","useFetch","useNavigate","Navigate","useEffect","axios","Signin","googleSignIn","user","navigate","handleGoogleSignIn","error","console","log","auth"],"sources":["/Users/mertsekmen/Desktop/wilskills-event-webapp/wilskill-app/src/Pages/SignIn.jsx"],"sourcesContent":["import React from \"react\";\nimport { GoogleButton } from \"react-google-button\";\nimport { UserAuth } from \"../context/AuthContext\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { stringWrapper } from \"./stringWrapper\";\nimport { useFetch } from \"../Pages/useFetch\";\nimport { useNavigate, Navigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Signin = () => {\n  let { googleSignIn, user } = UserAuth();\n  const navigate = useNavigate();\n  // let { data: sqlUserData } = useFetch(\n  //   `https://wilskill-app.herokuapp.com/users/get/`\n  // )\n  const handleGoogleSignIn = async () => {\n    try {\n      await googleSignIn();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    // console.log(sqlUserData);\n    const auth = getAuth();\n    onAuthStateChanged(auth, (user) => {\n      //FIXME: In the use effect, SQL user data clears, why?\n      //FIXME: Don't do post call when user is already in table\n      if (user) {\n        //const curUser = sqlUserData.filter((u) => u.firebase_ID == user.uid);\n        // if (curUser.length === 0) {\n        //   console.log(curUser);\n        //   axios\n        //     .post(\"https://wilskill-app.herokuapp.com/users/adduser\", {\n        //       namePronouns: stringWrapper(user.displayName),\n        //       email: stringWrapper(user.email),\n        //       firebaseID: stringWrapper(user.uid),\n        //     })\n        //     .then(async (res) => {\n        //       if (res) {\n        //         console.log(res);\n        //       }\n        //     })\n        //     .catch((error) => {\n        //       console.log(error);\n        //     });\n        // }\n        navigate(\"/account\");\n      }\n    });\n  }, [user]);\n\n  return (\n    <div>\n      <h1 className=\"text-center text-2xl font-bold py-4\">Sign-in</h1>\n      <div className=\"max-w-[240px] m-auto py-4\">\n        <GoogleButton onClick={handleGoogleSignIn} />\n      </div>\n    </div>\n  );\n};\n\nexport default Signin;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,OAAO,EAAEC,kBAAkB,QAAQ,eAAe;AAC3D,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,WAAW,EAAEC,QAAQ,QAAQ,kBAAkB;AACxD,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,MAAMC,MAAM,GAAG,MAAM;EAAA;EACnB,IAAI;IAAEC,YAAY;IAAEC;EAAK,CAAC,GAAGX,QAAQ,EAAE;EACvC,MAAMY,QAAQ,GAAGP,WAAW,EAAE;EAC9B;EACA;EACA;EACA,MAAMQ,kBAAkB,GAAG,YAAY;IACrC,IAAI;MACF,MAAMH,YAAY,EAAE;IACtB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EACDP,SAAS,CAAC,MAAM;IACd;IACA,MAAMU,IAAI,GAAGhB,OAAO,EAAE;IACtBC,kBAAkB,CAACe,IAAI,EAAGN,IAAI,IAAK;MACjC;MACA;MACA,IAAIA,IAAI,EAAE;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC,QAAQ,CAAC,UAAU,CAAC;MACtB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACD,IAAI,CAAC,CAAC;EAEV,oBACE;IAAA,wBACE;MAAI,SAAS,EAAC,qCAAqC;MAAA,UAAC;IAAO;MAAA;MAAA;MAAA;IAAA,QAAK,eAChE;MAAK,SAAS,EAAC,2BAA2B;MAAA,uBACxC,QAAC,YAAY;QAAC,OAAO,EAAEE;MAAmB;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACzC;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAC,GAnDIJ,MAAM;EAAA,QAEOJ,WAAW;AAAA;AAAA,KAFxBI,MAAM;AAqDZ,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}